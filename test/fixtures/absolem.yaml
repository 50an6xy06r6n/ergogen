points:
  zones:
    matrix:
      anchor:
        rotate: 5
      columns:
        pinky:
          rotate: -5
          origin: [7, -7]
          rows:
            bottom:
            home:
              bind: [,10]
            top:
              bind: [,10]
          key:
            column_net: P1
        ring:
          stagger: 12
          rows:
            bottom:
              bind: [,,,10]
            home:
              bind: [,10]
            top:
              bind: [,10]
          key:
            column_net: P0
        middle:
          stagger: 5
          rows:
            bottom:
              bind: [,10,,10]
            home:
              bind: [,10,,10]
            top:
          key:
            column_net: P2
        index:
          stagger: -6
          rows:
            bottom:
              bind: [,10]
            home:
              bind: [,,,10]
            top:
              bind: [,,,10]
          key:
            column_net: P3
        inner:
          stagger: -2
          rows:
            bottom:
              bind: [,,10,]
            home:
              bind: [,,,10]
            top:
              bind: [,,,10]
          key:
            column_net: P4
      rows:
        bottom:
          bind: [10]
          row_net: P7
          mirror:
            row_net: P16
        home:
          bind: [10]
          row_net: P6
          mirror:
            row_net: P14
        top:
          row_net: P5
          mirror:
            row_net: P15
    thumbfan:
      anchor:
        ref: inner_bottom
        shift: [-7, -19]
      columns:
        near:
          spread: 21.25
          rotate: -28
          origin: [9.5, -9]
          rows:
            thumb:
              bind: [10,1,,]
          key:
            column_net: P2
        home:
          spread: 21.25
          rotate: -28
          origin: [11.75, -9]
          rows:
            thumb:
              bind: [,10,,15]
          key:
            column_net: P3
        far:
          rows:
            thumb:
              bind: [-1,,,5]
          key:
            column_net: P4
      rows:
        thumb:
          row_net: P8
          mirror:
            row_net: P10
  key:
    bind: [0,0,0,0]
    footprints:
      mx:
        type: mx
        nets:
          from: '!column_net'
          to: '!name'
      diode:
        type: diode
        anchor:
          rotate: 90
          shift: [-8, 0]
        nets:
          from: '!name'
          to: '!row_net'
  rotate: -20
  mirror:
    ref: pinky_home
    distance: 223.7529778
outline:
  glue:
    top:
      left:
        ref: inner_top
        shift: [, 0.5]
      right:
        ref: mirror_inner_top
        shift: [, 0.5]
    bottom:
      left:
        ref: far_thumb
        shift: [0.5, 0]
        rotate: 90
      right:
        ref: mirror_far_thumb
        shift: [0.5, 0]
        rotate: 90
    waypoints:
      - percent: 50
        width: 50
      - percent: 90
        width: 25
  exports:
    outline:
      - type: keys
        side: both
        size: 18
        corner: .5
    holes:
      - type: keys
        operation: stack
        side: both
        size: 14
        bound: false
    middle:
      - type: keys
        operation: stack
        side: middle
        size: 24
      - type: rectangle
        size: [25, 5]
        ref: home_thumb
        shift: [0, 12]
      - type: rectangle
        size: [25, 5]
        ref: far_thumb
        shift: [25, 12]
      - type: rectangle
        size: [25, 5]
        ref: mirror_home_thumb
        shift: [25, 12]
      - type: rectangle
        size: [25, 5]
        ref: mirror_far_thumb
        shift: [0, 12]
      - type: ref
        name: outline
        operation: intersect
    complex:
      - type: ref
        name: outline
      - type: ref
        name: holes
        operation: stack
      - type: ref
        name: middle
        operation: stack
pcb:
  edge: outline
  footprints:
    mcu:
      type: promicro
      anchor:
        ref:
          - inner_top
          - mirror_inner_top
        shift: [0, -20]
        rotate: 270
